<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Guessing Game OOP</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

</head>

<body>
</body>

<script>

    function SecretCode(){
        var random_num = Math.floor((Math.random() * 10) + 1);
        var self = this;

        //dom creation
        this.domObjects = function() {
            var input = $("<input>").attr({
                type: "number",
                id: "guess_num"
            });

            var button = $('<input>').attr({
                type: "button",
                id: "guess_btn",
                value: 'Guess'
            });

            var answer = $('<div>').attr({
                id: "response",
                text: "You did it "
            });
            $("body").append(input, button, answer);
            $("#guess_btn").click(function(){
                console.log("secret num: " + secret.secretNum());
                var num = $("#guess_num").val();
                //console log below used for testing
                //console.log("guessed number " + secret.guessNum(num));
                if ("Win" === secret.guessNum(num)){
                    $("#guess_num").val("");
                }
            });
        };

        this.secretNum = function() {
            return random_num;
        };

        this.guessNum = function(num) {
            if (num > random_num) {
                return "lower";
            }
            else if (num < random_num) {
                return "higher";
            }
            else {
                self.resetNum();
                return "Win";
            }
        };
        this.resetNum = function(){
            random_num = Math.floor((Math.random() * 10) + 1);
        }
    }

    var secret = new SecretCode();
    secret.domObjects();

</script>
</html>
